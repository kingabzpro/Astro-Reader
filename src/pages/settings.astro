---
import Layout from '../layouts/Layout.astro';
import { getUserSettings } from '../lib/database';
import SettingsPanel from '../components/SettingsPanel.astro';

let settings = null;
if (Astro.locals.session && Astro.locals.user) {
  settings = await getUserSettings(Astro.locals.user.id);
}
---

<Layout title="Settings">
  <SettingsPanel settings={settings} client:load />
</Layout>

<style>
  /* Reset any page-specific styles, let SettingsPanel handle everything */
</style>
